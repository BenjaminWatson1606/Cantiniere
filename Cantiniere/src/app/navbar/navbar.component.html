<ion-header>
  <ion-toolbar class="header">
    <ion-button slot="start" fill="clear">
      <svg
        width="55"
        height="55"
        viewBox="0 0 63 63"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M62.8178 31.4767C54.2083 31.3721 47.2561 24.3782 47.2561 15.7442C38.622 15.7442 31.6293 8.79341 31.5235 0.185221C28.1692 -0.324184 24.7399 0.222134 21.7142 1.76265L13.208 6.09628C10.1459 7.65677 7.65663 10.1469 6.09717 13.2095L1.77825 21.6848C0.214151 24.7552 -0.338034 28.2418 0.200794 31.6452L1.68719 41.0298C2.22549 44.4299 3.82604 47.5724 6.25959 50.0072L12.9988 56.7451C15.4247 59.1717 18.5566 60.768 21.9455 61.3051L31.3844 62.8001C34.7694 63.3366 38.2381 62.7866 41.2933 61.2301L49.7995 56.8977C52.8614 55.3368 55.3505 52.8468 56.9104 49.7845L61.2293 41.3092C62.7747 38.2773 63.3223 34.8395 62.8178 31.4767ZM21.6564 45.2798C19.4821 45.2798 17.7189 43.5166 17.7189 41.3424C17.7189 39.1682 19.4821 37.4049 21.6564 37.4049C23.8306 37.4049 25.5939 39.1682 25.5939 41.3424C25.5939 43.5166 23.8306 45.2798 21.6564 45.2798ZM25.5939 25.5927C23.4196 25.5927 21.6564 23.8295 21.6564 21.6553C21.6564 19.4811 23.4196 17.7178 25.5939 17.7178C27.7681 17.7178 29.5313 19.4811 29.5313 21.6553C29.5313 23.8295 27.7681 25.5927 25.5939 25.5927ZM45.2813 41.3424C43.107 41.3424 41.3438 39.5791 41.3438 37.4049C41.3438 35.2308 43.107 33.4675 45.2813 33.4675C47.4555 33.4675 49.2187 35.2308 49.2187 37.4049C49.2187 39.5791 47.4555 41.3424 45.2813 41.3424Z"
          fill="#E1A325"
        />
      </svg>
    </ion-button>
    <ion-buttons slot="start">
      <ion-button
        shape="round"
        fill="solid"
        color="warning"
        (click)="loadMainPage()"
        > {{
          isAuthenticated && (getUserRole() | async) === "ROLE_LUNCHLADY"
            ? "Gestion des menus"
            : "Plat de la semaine"
        }}</ion-button
      >

      <ion-button
        class="button-nav"
        shape="round"
        fill="solid"
        color="warning"
        (click)="loadMealsPage()"
      >
        {{
          isAuthenticated && (getUserRole() | async) === "ROLE_LUNCHLADY"
            ? "Gestion des plats"
            : "Carte"
        }}
      </ion-button>

      <ion-button
        *ngIf="isAuthenticated && (getUserRole() | async) !== 'ROLE_LUNCHLADY'"
        class="button-nav"
        shape="round"
        fill="solid"
        color="warning"
        (click)="loadPage('user-account')"
        >Mon compte</ion-button
      >

      <ion-button
        *ngIf="(getUserRole() | async) === 'ROLE_LUNCHLADY'"
        class="button-nav"
        shape="round"
        fill="solid"
        color="warning"
        (click)="loadPage('admin-order-recap')"
        >Récap des commandes</ion-button
      >

      <ion-button
        *ngIf="(getUserRole() | async) === 'ROLE_LUNCHLADY'"
        class="button-nav"
        shape="round"
        fill="solid"
        color="warning"
        (click)="loadPage('admin-user-accounts')"
        >Compte utilisateurs</ion-button
      >

      <ion-button
        *ngIf="(getUserRole() | async) === 'ROLE_LUNCHLADY'"
        class="button-nav"
        shape="round"
        fill="solid"
        color="warning"
        (click)="loadPage('admin-configuration')"
      >
        Configuration
      </ion-button>
    </ion-buttons>
    <div class="white_text" slot="end">
      ⏱︎ Commandes acceptées jusqu'à
      {{
        (configuration$ | async)?.orderTimeLimit?.replace(":", "h")?.slice(0, 5)
      }}
    </div>
    <!-- {{getOrderLimit() | date:'h:mm a'}} -->
    <ion-buttons slot="end">
      <ion-button
        *ngIf="!isAuthenticated"
        shape="round"
        fill="solid"
        color="warning"
        (click)="openLoginModal()"
      >
        Se Connecter
      </ion-button>
      <ion-button
        *ngIf="isAuthenticated"
        shape="round"
        (click)="openDiscModal()"
      >
        <svg
          width="51"
          height="51"
          viewBox="0 0 51 51"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M29.1446 19.1067L35.4291 25.4756M35.4291 25.4756L29.1446 31.8446M35.4291 25.4756H6.25195"
            stroke="white"
            stroke-width="3.10581"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M18.7573 31.8445C18.7573 36.5345 22.4896 40.3365 27.0936 40.3365H35.43C40.034 40.3365 43.7663 36.5345 43.7663 31.8445V23.3526V19.1067C43.7663 14.4167 40.034 10.6147 35.43 10.6147L33.3459 10.6147H27.0936C22.4896 10.6147 18.7573 14.4167 18.7573 19.1067"
            stroke="white"
            stroke-width="3.10581"
            stroke-linecap="round"
          />
          <path
            d="M29.1446 19.1067L35.4291 25.4756M35.4291 25.4756L29.1446 31.8446M35.4291 25.4756H6.25195"
            stroke="white"
            stroke-width="3.10581"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M18.7573 31.8445C18.7573 36.5345 22.4896 40.3365 27.0936 40.3365H35.43C40.034 40.3365 43.7663 36.5345 43.7663 31.8445V23.3526V19.1067C43.7663 14.4167 40.034 10.6147 35.43 10.6147L33.3459 10.6147H27.0936C22.4896 10.6147 18.7573 14.4167 18.7573 19.1067"
            stroke="white"
            stroke-width="3.10581"
            stroke-linecap="round"
          />
        </svg>
      </ion-button>
      <p *ngIf="isAuthenticated" style="color: white">
        Bonjour {{ getFirstName() | async }}
      </p>

      <ion-button
        *ngIf="!isAuthenticated || (getUserRole() | async) !== 'ROLE_LUNCHLADY'"
        shape="round"
        fill="solid"
        color="warning"
        (click)="openCartModal()"
      >
        <ion-icon size="large" name="cart-outline" />
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
